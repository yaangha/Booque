<!DOCTYPE html>
<html xmlns:th="http://wwww.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
    crossorigin="anonymous">
<!-- include libraries(jQuery, bootstrap) -->
<link
    href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
    rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script
    src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<!-- include summernote css/js -->
<link
    href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.css"
    rel="stylesheet">
<script
    src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote.min.js"></script>
    
    <style>
    
    label, input {
      display: inline-block;
      font-size: 16px;
    }
    
    label {
      vertical-align: middle;
    }
    </style>
</head>
<body>

    <div
        style="background-color: #E6E6FA; color: white; width: 1170px; height: 100px;"
        align="right">
        <h1>포스트 수정 페이지</h1>
    </div>

    <div>
        <table>
            <tr>

                <td class="col-2" style="vertical-align: top;">
                    <!-- 프로필 시작 -->
                    <div class="card"
                        style="margin: 20px; width: 250px; height: 420px; align-items: center;">
                        <div
                            style="width: 200px; height: 210px; margin-top: 20px; border: 1px solid gray;">
                            <a href=#> <img src="" class="img-fluid rounded-start">
                            </a>
                        </div>
                        <div class="card-body"
                            style="width: 200px; height: 40px; margin-bottom: 20px; font-size: 15px;">
                            <p class="card-text" style="height: 20px;">닉네임</p>
                            <p class="card-text" style="height: 20px;">소개</p>


                        </div>
                        <p style="font-size: 8px;">오늘 3 Total 261</p>
                    </div>

                    <div style="width: 250px; margin-left: 25px;" align="center">
                        <form class="d-flex" role="search">
                            <input class="form-control me-2" type="search"
                                placeholder="Search" aria-label="Search">
                            <button class="btn btn-outline-success" type="submit">Search</button>
                        </form>
                    </div>

                </td>
                <!-- 프로필 끝 -->



                <td class="col-10">
                    <!-- 블로그 메인 섹션 시작 -->


                   <nav class="navbar navbar-expand-lg"
                        style="width: 880px; margin-top: 20px; background-color: #FFFFE0; color: gray;">
                         
                        <div class="container-md"
                            style="display: inline-block; margin: 5px;" align="right">
                            <a href="/post/list" style="color: gray; margin-right: 15px;">전체 목록</a>
                            <a href="/post/create" style="color: gray; margin-right: 15px;">새 포스트 작성</a>
                        </div>
                       
                        <div class="dropdown"
                            style="display: inline-block; margin-right: 25px;">
                            <button class="btn dropdown-toggle"
                                style="width: 85px; height: 30px; border: 1px solid gray;"
                                type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Drop</button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">날짜순</a></li>
                                <li><a class="dropdown-item" href="#">인기순</a></li>
                                <li><a class="dropdown-item" href="#">리스트형</a></li>
                            </ul>
                        </div>
                  </div>
                    </nav>  <!-- 도서 카드 + 리뷰 시작 -->
                    <div class="card" style="width: 880px;" align="center">
                        <!-- 도서 카드 시작 -->
                        <div class="card" style="max-width: 840px; margin: 20px;">
                            <table>

                                <tr>
                                    <td class="col-3">
                                        <div
                                            style="width-max: 100%; height: 200px; margin: 20px; border: 1px solid gray;"
                                            align="center">
                                            <a href=""> <img src=""
                                                class="img-fluid rounded-start" alt="">
                                            </a>
                                        </div>
                                    </td>

                                    <td class="col-6">
                                        <div class="card-body"
                                            style="width-max: 100%; height: 200px; margin: 10px; font-size: 16px;"
                                            align="left">

                                            <p class="card-text my-3" style="height: 20px;">제목</p>
                                            <p class="card-text my-4" style="height: 20px;">작가</p>
                                            <p class="card-text my-4" style="height: 20px;">출판사</p>
                                            <p class="card-text my-4" style="height: 20px;">출판일</p>
                                            <p class="card-text my-4" style="height: 20px;">별점</p>

                                        </div>
                                    </td>


                                    <td class="col-2" style="font-size: 15px;" align="left">
                                        <div style="width: 120px; height: 90px; margin: 20px;">
                                            <button type="button" class="btn btn-primary"
                                                style="width: 120px; height: 35px; margin: 10px;">
                                                카트 담기</button>

                                            <button type="button" class="btn btn-secondary"
                                                style="width: 120px; height: 35px; margin: 10px;">찜</button>
                                        </div>
                                        <div style="width: 120px; height: 5px;"></div>
                                        <div style="width: 120px; height: 40px; margin: 30px;">
                                            <a href=""> <img src=""
                                                class="img-fluid rounded-start"
                                                style="width: 40px; height: 40px; border: 1px solid red;"
                                                align="right">
                                            </a>
                                        </div>
                                    </td>
                                </tr>

                            </table>
                        </div>
                        </div>
                        <!-- 도서 카드 끝 -->
                        
        <!-- 글 작성 폼 -->             
        <form id="formModify" class="card my-5" style="width:880px; height:580px;">

            <div style="margin-left: 18px; margin-top: 10px;">
                    <label for="postId" class="form-label" style="width: 50px; height: 40px;">번호</label>
                       <input id="postId" name="postId" style=" width: 800px; height: 40px;"
                            th:value="${ post.postId }" readonly />
                    </div>
              <div style="margin-left: 18px;">
                    <label for="title" class="form-label" style=" width: 50px; height: 40px;">제목</label>
                       <input id="title"  name="title" style=" width: 800px; height: 40px;"
                            th:value="${ post.title }" required autofocus />
                    </div>
                    <div style="margin-left: 18px;">
                    <label for="postWriter" class="form-label" style=" width: 50px; height: 40px;">작성자</label>
                       <input id="postWriter"  name="postWriter" style=" width: 800px; height: 40px;"
                            th:value="${ post.postWriter }" readonly />
                    </div>
                    
                      <div style="margin-left: 6px;">
                    <label for="postContent" class="form-label" style=" width: 48px; height: 350px;">내용</label>
                    
                    <div class="container" style="display: inline-block; width: 800px; ">
                    
                       <textarea id="postContent" class="summernote" name="postContent" 
                            th:text="${ post.postContent }" required ></textarea>
                            
                            <div style="width: 780px; height: 50px; margin-right: 20px;" align="right">
                       <button class="btn" style="margin-right:30px; background-color: #90EE90;" id="btnDelete">DELETE</button>
                    <button class="btn" style="background-color: #FFB6C1;" id="btnUpdate">UPDATE</button>
                   </div>
                            </div>
                    </div>

            </form>
            <!-- 글 작성 폼 end -->
            </td>
        </tr>
        </table>
    </div>

<div style="width: 1170px; height: 100px;">

</div>
   <script>
   // form HTML 요소를 찾음.
   const form = document.querySelector('#formModify');
   
   // 삭제 버튼 찾아서 이벤트 리스너 등록
   const btnDelete = document.querySelector('#btnDelete');
   btnDelete.addEventListener('click',function() {
       const result = confirm('정말 삭제?');
       if(result) {
           formModify.action = '/post/delete';
           formModify.method= 'post';
           formModify.submit();
       }
   })
   
   // 수정완료 버튼 찾아서 이벤트 리스너 등록
   const btnUpdate = document.querySelector('#btnUpdate');
   btnUpdate.addEventListener('click',function() {
       
       const title = document.querySelector('#title').value;
       const content = document.querySelector('#postContent').value;
       
       if (title =='' || postContent =='') {
           alert('제목과 내용은 반드시 입력');
           return;
       }
       
       const result = confirm('정말 수정?');
       if(result) {
           formModify.action = '/post/update';
           formModify.method= 'post';
           formModify.submit();
       }
   })
   
   </script>
    <!-- Bootstrap이 사용하는 JavaScript 파일 포함 -->
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
    <!-- 서머 -->
    <script>
$('.summernote').summernote({
    width:800,
      height: 300,
      lang: "ko-KR"
    });
</script>
</body>
</html>
